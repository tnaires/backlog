<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <link href="/assets/css/datatables.min.css" rel="stylesheet">
    <script src="/assets/js/jquery-3.7.1.min.js"></script>
    <script src="/assets/js/datatables.min.js"></script>
    <title>Meu backlog de jogos</title>
  </head>
  <body>
    <header>
      <h1>Meu backlog de jogos</h1>
    </header>
    <section>
      <nav>
  <a href="/">A jogar</a> |
  <a href="/jogando">Jogando</a> |
  <a href="/platinados">Platinados</a> |
  <a href="/lista_de_desejos">Lista de desejos</a>
</nav>

<h2>Platinados</h2>
<section>
  <span>Plataforma</span>
  <span id="filtro1"></span>
  <span>Gênero</span>
  <span id="filtro2"></span>
</section>
<table id="backlog" class="display compact">
  <thead>
    <th>Jogo</th>
    <th>Plataforma</th>
    <th>Genero</th>
    <th>Data zerado</th>
    <th>Tem platina</th>
    <th>Data platina</th>
    <th>Tem DLC</th>
    <th>Já fiz 100%</th>
    <th>Data 100%</th>
  </thead>
  <tbody>
    
      <tr>
        <td>Ender Magnolia</td>
        <td>PS4</td>
        <td>Metroidvania</td>
        <td>07/04/2025</td>
        <td>1</td>
        <td>08/04/2025</td>
        <td>0</td>
        <td>1</td>
        <td>08/04/2025</td>
      </tr>
    
      <tr>
        <td>Doki Doki Literature Club Plus</td>
        <td>PS4</td>
        <td>Horror</td>
        <td>23/10/2024</td>
        <td>1</td>
        <td>11/11/2024</td>
        <td>0</td>
        <td>1</td>
        <td>11/11/2024</td>
      </tr>
    
  </tbody>
</table>
<script>
    new DataTable('#backlog', {
      paging: false,
      layout: {
          topStart: 'search',
          topEnd: 'pageLength',
          bottomStart: 'info',
          bottomEnd: 'paging'
      },
      order: [[1, 'asc'], [0, 'asc']],
      language: {
        url: 'https://cdn.datatables.net/plug-ins/2.3.2/i18n/pt-BR.json',
      },
      initComplete: function () {
          this.api()
              .columns([1, 2])
              .every(function () {
                  let column = this;
  
                  // Create select element
                  let select = document.createElement('select');
                  select.add(new Option(''));
                  $("#filtro" + column.index()).append(select);
  
                  // Apply listener for user change in value
                  select.addEventListener('change', function () {
                      column
                          .search(select.value, {exact: true})
                          .draw();
                  });
  
                  // Add list of options
                  column
                      .data()
                      .unique()
                      .sort()
                      .each(function (d, j) {
                          select.add(new Option(d));
                      });
              });
      },
    });
  </script>
    </section>
  </body>
</html>
