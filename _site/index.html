<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <link href="/assets/css/main.css" rel="stylesheet">
    <link href="/assets/css/datatables.min.css" rel="stylesheet">
    <script src="/assets/js/jquery-3.7.1.min.js"></script>
    <script src="/assets/js/datatables.min.js"></script>
    <title>Meu backlog de jogos</title>
  </head>
  <body>
    <header>
      <h1>Meu backlog de jogos</h1>
    </header>
    <section>
      <nav>
  <a href="/">A jogar</a> |
  <a href="/jogando">Jogando</a> |
  <a href="/platinados">Platinados</a> |
  <a href="/lista_de_desejos">Lista de desejos</a>
</nav>

<h2>A jogar</h2>
<table id="tabelaLegendas">
    <thead>Legendas de cores <a id="toggle" href="#">Exibir</a></thead>
    <tbody id="legendas" style="display: none;">
        
        
            <tr class="amarelo">
                <td>Jogos com troféus online que ainda dá pra pegar`</td>
            </tr>
            <tr class="vermelho">
                <td>Jogos com troféus online que não dá mais pra pegar</td>
            </tr>
        
        
    </tbody>
</table>
<script>
    $(document).ready(function() {
        $("#toggle").click(function() {
            $("#legendas").toggle();
            const toggleText = ($("#legendas").is(":visible") ? "Ocultar" : "Exibir");
            $("#toggle").text(toggleText);
        });
    });
</script>
<section>
  <span>Plataforma</span>
  <span id="filtro1"></span>
  <span>Gênero</span>
  <span id="filtro2"></span>
</section>
<table id="backlog" class="display compact">
  <thead>
    <th>Jogo</th>
    <th>Plataforma</th>
    <th>Genero</th>
    <th>Data de lançamento</th>
    <th>Já tenho</th>
    <th>Tem platina</th>
    <th>Tem DLC</th>
  </thead>
  <tbody>
    
      <tr
        
        >
        <td>Demon Gaze</td>
        <td>PS Vita</td>
        <td>Blobber</td>
        <td>22/04/2014</td>
        <td>1</td>
        <td>1</td>
        <td>0</td>
      </tr>
    
      <tr
        
        >
        <td>Fantasy Life i: The Girl Who Steals Time</td>
        <td>PS4</td>
        <td>RPG</td>
        <td>21/05/2025</td>
        <td>0</td>
        <td>1</td>
        <td>0</td>
      </tr>
    
      <tr
        
          
            class = "amarelo"  
          
        
        >
        <td>Rematch</td>
        <td>PC</td>
        <td>Esporte</td>
        <td>19/06/2025</td>
        <td>0</td>
        <td>0</td>
        <td>0</td>
      </tr>
    
  </tbody>
</table>
<script>
    new DataTable('#backlog', {
      paging: false,
      layout: {
          topStart: 'search',
          topEnd: 'pageLength',
          bottomStart: 'info',
          bottomEnd: 'paging'
      },
      order: [[1, 'asc'], [0, 'asc']],
      language: {
        url: 'https://cdn.datatables.net/plug-ins/2.3.2/i18n/pt-BR.json',
      },
      initComplete: function () {
          this.api()
              .columns([1, 2])
              .every(function () {
                  let column = this;
  
                  // Create select element
                  let select = document.createElement('select');
                  select.add(new Option(''));
                  $("#filtro" + column.index()).append(select);
  
                  // Apply listener for user change in value
                  select.addEventListener('change', function () {
                      column
                          .search(select.value, {exact: true})
                          .draw();
                  });
  
                  // Add list of options
                  column
                      .data()
                      .unique()
                      .sort()
                      .each(function (d, j) {
                          select.add(new Option(d));
                      });
              });
      },
    });
  </script>

    </section>
  </body>
</html>
